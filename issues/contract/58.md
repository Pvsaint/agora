# Issue 58: Add support for on-chain discount codes

### DESCRIPTION

> **Offline marketing (flyers, social media) often uses discount codes.** We can support this on-chain by storing hashes of the codes. When a user provides the 'code' (preimage), the contract verifies it against the hash and applies the discount, keeping the original code secret until used.

### TASKS

- [ ] **Implement `storage.add_discount_hashes`** for organizers to upload a list of `Sha256` hashed keywords.
- [ ] **Modify `process_payment`** to accept a `code_preimage: Bytes` argument.
- [ ] **Perform `Sha256` hashing** on-chain and compare it to the stored registry of valid codes.
- [ ] **Incorporate a 'One-Time Use' flag** to ensure a unique discount code cannot be reused by multiple guests.

**Depends on:**
#52
